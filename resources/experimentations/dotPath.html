<html>
    <body></body>
    <script>
function extractDotPath(dotPath,object) {
    let inArray = false
    let finalExtract = false
    return dotPath.split('.').reduce((acc,v,i,o)=>{ 
        if(finalExtract===true) return acc
        if(acc===undefined) return undefined
        if(inArray===true) {
            finalExtract = true
            let dp = o.slice(i-o.length).join('.')
            let r = acc.map(e => extractDotPath(dp,e)) 
            return r
        }
        let search
        if((search = /(\w+)\[\]/.exec(v)) !== null ) {
            inArray = true
            return acc[search[1]]
        }
        if((search = /(\w+)\[(\d+)\]/.exec(v)) !== null ) {
            return acc[search[1]][search[2]]
        }
        if((search = /\[\]/.exec(v)) !== null ) {
            inArray = true
            return Array.isArray(acc) ? acc : undefined
        }
        if((search = /\[(\d+)\]/.exec(v)) !== null ) {
            return Array.isArray(acc) ? acc[search[1]] : undefined
        }
        return acc[v]
    },object)
}

function doit(p,o) {
    console.log(`${JSON.stringify(o)}\n${p}\n${JSON.stringify(extractDotPath(p,o))}\n\n`)
}

obj = { a:{ b:{ c:84, d:14 }, c:{ d:8 }, r:[{ u:21, v:654 }, { u:84, v:64 }] } }


doit("a.b.c",obj)
doit("a.c.d",obj)
doit("a.b",obj)
doit("a.b.k",obj)
doit("a.j.t",obj)
doit("a.r",obj)
doit("a.r[].u",obj)
doit("a.r[1]",obj)
doit("a.r[1].u",obj)
doit("[]",obj)

obj = [ {a:71,b:62}, {a:11,b:212}, {a:541,b:2}, {a:164,b:2456}, {a:12,b:284} ]

doit("[]",obj)
doit("[1]",obj)
doit("[3].b",obj)
doit("[].b",obj)

</script>
</html>